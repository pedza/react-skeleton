{"ast":null,"code":"var _jsxFileName = \"F:\\\\Developer stvari 2 da se vidi so originalot\\\\ReactRepo\\\\my-app\\\\src\\\\componentAPICall.js\";\nimport React, { Component } from 'react'; // import ReactDOM from 'react-dom';\n\nimport App from './app';\n\nclass APIcall extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: [],\n      url: \"http://api.openweathermap.org/data/2.5/weather?q=\" + this.props.urls + \"&units=metric&appid=5028b23243c12ce9c01337e4bf4ea0ae\"\n    };\n    {\n      console.log(this.state.url);\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData(this.state.url);\n  }\n\n  fetchData(url) {\n    fetch(url).then(res => res.json()).then(result => {\n      console.log(result);\n      this.setState({\n        isLoaded: true,\n        items: result\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  } // componentWillUnmount()\n  // {\n  //     {console.log(this.state.url)}\n  // }\n\n\n  timeStampFunction(unix) {\n    let date = new Date(unix * 1000);\n    let toUTCstring = date.toUTCString();\n    let splitUTCString = toUTCstring.split(\",\", 1);\n    let time = toUTCstring.slice(5, -12);\n    let day = date.getDay();\n    let currentDay = \"\";\n    console.log(toUTCstring);\n    console.log(time);\n\n    switch (day) {\n      case 1:\n        if (day === 1) {\n          currentDay = \"Monday\";\n        }\n\n        break;\n\n      case 2:\n        if (day === 2) {\n          currentDay = \"Tuesday\";\n        }\n\n        break;\n\n      case 3:\n        if (day === 3) {\n          currentDay = \"Wednesday\";\n        }\n\n        break;\n\n      case 4:\n        if (day === 4) {\n          currentDay = \"Thursday\";\n        }\n\n        break;\n\n      case 5:\n        if (day === 5) {\n          currentDay = \"Friday\";\n        }\n\n        break;\n\n      case 6:\n        if (day === 6) {\n          currentDay = \"Saturday\";\n        }\n\n        break;\n\n      case 6:\n        if (day === 7) {\n          currentDay = \"Sunday\";\n        }\n\n        break;\n\n      default:\n        currentDay = \"no such day\";\n    }\n\n    return currentDay;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.urls != this.props.urls) {\n      this.fetchData(\"http://api.openweathermap.org/data/2.5/weather?q=\" + this.props.urls + \"&units=metric&appid=5028b23243c12ce9c01337e4bf4ea0ae\");\n      console.log(prevProps);\n      console.log(this.props.urls);\n    }\n  }\n\n  render() {\n    {\n      console.log(this.state.url);\n    }\n    ;\n    const {\n      error,\n      isLoaded,\n      items\n    } = this.state;\n    const {\n      main,\n      weather,\n      sys,\n      dt\n    } = items;\n\n    if (this.state.error != null) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 20\n        }\n      }, error.message);\n    }\n\n    let weatherIcon = function (array) {\n      for (let index = 0; index < array.length; index++) {\n        let childArray = array[index];\n        return childArray.icon;\n        console.log(childArray.icon.key);\n      }\n    }; // let icon = \n    // let url = \"http://openweathermap.org/img/w/\"+{icon}+\".png\"\n    // console.log(temp)\n    // console.log(main);\n\n\n    if (error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 20\n        }\n      }, \"Erorr:\", error.message);\n    } else if (!isLoaded) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 20\n        }\n      }, \"Loading...\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, this.timeStampFunction(dt)), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"http://openweathermap.org/img/w/\" + weatherIcon(weather) + \".png\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }\n      }, items.name, \" \", sys.country), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }\n      }, \" \", Math.round(main.temp), \" \\u2103\"), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }\n      }, \"RealFeel \", Math.round(main.feels_like), \" \\u2103\"));\n    }\n  }\n\n}\n\nexport default APIcall; // ReactDOM.render(<APIcall />, document.getElementById('root'));","map":{"version":3,"sources":["F:/Developer stvari 2 da se vidi so originalot/ReactRepo/my-app/src/componentAPICall.js"],"names":["React","Component","App","APIcall","constructor","props","state","error","isLoaded","items","url","urls","console","log","componentDidMount","fetchData","fetch","then","res","json","result","setState","timeStampFunction","unix","date","Date","toUTCstring","toUTCString","splitUTCString","split","time","slice","day","getDay","currentDay","componentDidUpdate","prevProps","render","main","weather","sys","dt","message","weatherIcon","array","index","length","childArray","icon","key","name","country","Math","round","temp","feels_like"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n// import ReactDOM from 'react-dom';\r\nimport App from './app'\r\n\r\n\r\nclass APIcall extends Component\r\n{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            items:[],\r\n            url: \"http://api.openweathermap.org/data/2.5/weather?q=\"+this.props.urls+\"&units=metric&appid=5028b23243c12ce9c01337e4bf4ea0ae\"\r\n        }\r\n        {console.log(this.state.url)}\r\n    }\r\n\r\ncomponentDidMount(){\r\n    this.fetchData(this.state.url)\r\n}\r\n\r\nfetchData(url){\r\n\r\n    fetch(url)\r\n        .then(res => res.json())\r\n        .then(\r\n            (result) => {\r\n                console.log(result)\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    \r\n                    items: result\r\n                   \r\n                });\r\n               \r\n            },\r\n            (error)=>{\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    error\r\n                });\r\n            }\r\n            )\r\n\r\n}\r\n\r\n// componentWillUnmount()\r\n// {\r\n   \r\n//     {console.log(this.state.url)}\r\n// }\r\ntimeStampFunction(unix){\r\n    let date = new Date(unix*1000);\r\n    let toUTCstring = date.toUTCString();\r\n    let splitUTCString = toUTCstring.split(\",\", 1);\r\n    let time = toUTCstring.slice(5, -12);\r\n    let day = date.getDay()\r\n    let currentDay=\"\"\r\n    console.log(toUTCstring)\r\n    console.log(time)\r\n    \r\n   \r\n         switch(day){\r\n           \r\n            case 1:\r\n                if (day === 1){\r\n                    currentDay = \"Monday\"\r\n                }\r\n            break; \r\n            case 2:\r\n                if (day === 2){\r\n                    currentDay = \"Tuesday\"\r\n                }\r\n            break;\r\n            case 3:\r\n                if (day === 3){\r\n                    currentDay = \"Wednesday\"\r\n                }\r\n            break;\r\n            case 4:\r\n                if (day === 4){\r\n                    currentDay = \"Thursday\"\r\n                }\r\n            break;\r\n            case 5:\r\n                if (day === 5){\r\n                    currentDay = \"Friday\"\r\n                }\r\n            break;\r\n            case 6:\r\n                if (day === 6){\r\n                    currentDay = \"Saturday\"\r\n                }\r\n            break;\r\n            case 6:\r\n                if (day === 7){\r\n                    currentDay = \"Sunday\"\r\n                }\r\n            break;\r\n            default: currentDay = \"no such day\"\r\n        }\r\n   \r\n    \r\n    \r\n    return currentDay\r\n    \r\n}\r\n\r\ncomponentDidUpdate(prevProps){\r\n    \r\n    if (prevProps.urls != this.props.urls){\r\n        \r\n        this.fetchData(\"http://api.openweathermap.org/data/2.5/weather?q=\"+this.props.urls+\"&units=metric&appid=5028b23243c12ce9c01337e4bf4ea0ae\")\r\n        console.log(prevProps)\r\n        console.log(this.props.urls)\r\n    }\r\n}\r\n\r\n    render(){\r\n        \r\n        {console.log(this.state.url)};\r\n        const {error, isLoaded, items} = this.state;\r\n        const {main, weather, sys, dt} = items;\r\n\r\n        if(this.state.error != null){\r\n            return <div>{error.message}</div>\r\n        \r\n        }\r\n        \r\n        let weatherIcon = function(array){\r\n            for (let index = 0; index < array.length; index++) {\r\n                \r\n\r\n                let childArray=array[index];\r\n                return childArray.icon\r\n                console.log(childArray.icon.key);\r\n                \r\n            \r\n                \r\n            }\r\n        }\r\n        // let icon = \r\n        // let url = \"http://openweathermap.org/img/w/\"+{icon}+\".png\"\r\n        // console.log(temp)\r\n        // console.log(main);\r\n        if(error){\r\n            return <div>Erorr:{error.message}</div>\r\n        }\r\n        else if(!isLoaded){\r\n            return <div>Loading...</div>\r\n        }\r\n        else{\r\n            return (\r\n            <ul>\r\n\r\n                <li>\r\n                    {this.timeStampFunction(dt)}\r\n                </li>\r\n\r\n                <li>\r\n                    \r\n                    <img src={\"http://openweathermap.org/img/w/\"+weatherIcon(weather)+\".png\"}>\r\n                    </img>\r\n                </li>\r\n                <li>{items.name} {sys.country}</li>\r\n                <li> {Math.round(main.temp)} &#8451;</li>\r\n                <li>RealFeel {Math.round(main.feels_like)} &#8451;</li>\r\n            </ul>   \r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default APIcall\r\n// ReactDOM.render(<APIcall />, document.getElementById('root'));"]},"metadata":{},"sourceType":"module"}